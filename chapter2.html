<html xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:epub="http://www.idpf.org/2007/opf">
   <head>
      <link rel="stylesheet" href="css/style.css"></link>
      <link rel="stylesheet" href="css/styles/docco.css"></link>
      <script src="js/highlight.pack.js"></script>
      <script>
         hljs.initHighlightingOnLoad();

      </script>
   </head>
   <body>
      <section data-type="chapter">
         <h1>Converting HTML to PDF</h1>
         <p>Rather than having to deal with
            <a href="http://www.w3.org/TR/2006/REC-xsl11-20061205/" label="XSL-FO">XSL-FO</a>, another XML based vocabulary to create PDF content, we'll use XSLT to create another
            HTML file and process it with
            <a href="http://dev.w3.org/csswg/css-page-3/" label="CSS Paged Media">CSS Paged Media</a> and the companion
            <a href="http://www.w3.org/TR/css-gcpm-3/" label="Generated Content for Paged Media">Generated Content for Paged Media</a> specifications to create PDF content.
         </p>
         <p>I'm not against XSL-FO but the structure of document is not the easiest or most intuitive.
            An example of XSL-FO looks like this:
         </p>
         <pre>
            <code class="xml">
               &lt;?xml version="1.0" encoding="iso-8859-1"?&gt; (1)

               &lt;fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format"&gt; (2)
               &lt;fo:layout-master-set&gt; (3)
               &lt;fo:simple-page-master master-name="my-page"&gt;
               &lt;fo:region-body margin="1in"/&gt;
               &lt;/fo:simple-page-master&gt;
               &lt;/fo:layout-master-set&gt;

               &lt;fo:page-sequence master-reference="my-page"&gt; (4)
               &lt;fo:flow flow-name="xsl-region-body"&gt; (5)
               &lt;fo:block&gt;Hello, world!&lt;/fo:block&gt; (6)
               &lt;/fo:flow&gt;
               &lt;/fo:page-sequence&gt;
               &lt;/fo:root&gt;

            </code>
         </pre>
         <ol>
            <li>This is an XML declaration. XSL FO (XSLFO) belongs to XML family, so this is obligatory.</li>
            <li>Root element. The obligatory namespace attribute declares the XSL Formatting Objects
               namespace.
            </li>
            <li>Layout master set. This element contains one or more declarations of page masters
               and page sequence masters â€” elements that define layouts of single pages and page
               sequences. In the example, I have defined a rudimentary page master, with only one
               area in it. The area should have a 1 inch margin from all sides of the page
            </li>
            <li>Page sequence. Pages in the document are grouped into sequences; each sequence starts
               from a new page. Master-reference attribute selects an appropriate layout scheme from
               masters listed inside &lt;fo:layout-master-set&gt;. Setting master-reference to a page master
               name means that all pages in this sequence will be formatted using this page master.
            </li>
            <li>Flow. This is the container object for all user text in the document. Everything contained
               in the flow will be formatted into regions on pages generated inside the page sequence.
               Flow name links the flow to a specific region on the page (defined in the page master);
               in our example, it is the body region
            </li>
            <li>Block. This object roughly corresponds to &lt;div&gt;` in HTML, and normally includes a
               paragraph of text. I need it here, because text cannot be placed directly into a flow.
            </li>
         </ol>
         <p>Rather than define a flow of content and then the content, CSS Paged Media uses a
            combination of new and existing CSS elements to format the content. For example, to
            define default page size and then add elements to chapter pages looks like this:
         </p>
         <pre>
            <code class="css">
               @page {
               size: 8.5in 11in;
               margin: 0.5in 1in;
               /* Footnote related attributes */
               counter-reset: footnote;
               @footnote {
               counter-increment: footnote;
               float: bottom;
               column-span: all;
               height: auto;
               }
               }

               @page chapter {
               @bottom-center {
               vertical-align: middle;
               text-align: center;
               content: element(heading);
               }
               }

            </code>
         </pre>
         <p>Just to make sure I cover all the basis, I've provided a basic XSL-FO converter. It
            is not complete and it's unlikely to be, I'm putting all my energy in the CSS Paged
            Media solution.
         </p>
      </section>
   </body>
</html>
